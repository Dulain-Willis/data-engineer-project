version: 2

models:
  - name: categories
    description: One row per appid and category combination
    config:
      contract:
        enforced: true
    columns:
      - name: appid
        description: Unique id for each steam app
        data_type: number
        tests:
          - not_null

      - name: categories
        description: The different categories of the app
        data_type: varchar

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: ['appid','categories']


  - name: genres
    description: One row per appid and genre combination
    config:
      contract:
        enforced: true
    columns:
      - name: appid
        description: Unique id for each steam app
        data_type: number
        tests:
          - not_null

      - name: genres
        description: The different genres of the app
        data_type: varchar

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: ['appid','genres']


  - name: languages
    description: One row per appid and language combiantion
    config:
      contract:
        enforced: true
    columns:
      - name: appid 
        description: Unique id for each steam app
        data_type: number
        tests: 
          - not_null

      - name: languages
        description: Language supported by an app
        data_type: varchar

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: ['appid','languages']


  - name: platforms
    description: One row per appid and platform
    config:
      contract:
        enforced: true
    columns:
      - name: appid
        description: Unique id for each steam app
        data_type: number
        tests:
          - not_null

      - name: platforms
        description: Platfrom supported by an app
        data_type: varchar

    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: ['appid','platforms']


  - name: title_token
    description: One row per word in app title
    config:
      contract:
        enforced: true
    columns:
      - name: appid
        description: Unique id for each steam app
        data_type: number
        tests:
          - not_null

      - name: 
